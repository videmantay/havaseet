<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript">
	//user info
	var teacher = {
		"uid" : "20013688",
		"id" : 20013688,
		"school_id" : 228550800,
		"synced" : 0,
		"school_uid" : "",
		"additional_buildings" : "",
		"name_title" : "Mr.",
		"name_title_show" : 1,
		"name_first" : "Lee",
		"name_first_preferred" : "",
		"use_preferred_first_name" : "1",
		"name_middle" : "",
		"name_middle_show" : 0,
		"name_last" : "ViDemantay",
		"name_display" : "Mr. ViDemantay",
		"username" : "",
		"primary_email" : "lee@videmantay.net",
		"picture_url" : "https:\/\/cdn3-4.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-f32980e8160b94a6d66e296dd64448fe_5ab1475f7c66d.png",
		"gender" : null,
		"position" : null,
		"grad_year" : "",
		"password" : "",
		"role_id" : 5,
		"tz_offset" : -7,
		"tz_name" : "America\/Los_Angeles",
		"parents" : null,
		"child_uids" : null,
		"send_message" : 1,
		"language" : "",
		"permissions" : {
			"is_directory_public" : 1,
			"allow_connections" : 1
		}
	};
	var course = {
		"section" : {
			"id" : "1624225987",
			"course_title" : "MadeIt Up",
			"course_code" : "",
			"course_id" : "1624225985",
			"school_id" : "228550800",
			"building_id" : "228550800",
			"access_code" : "TB658-KHXRR",
			"section_title" : "Section 1",
			"section_code" : "",
			"section_school_code" : "",
			"synced" : "0",
			"active" : 1,
			"description" : "",
			"subject_area" : "0",
			"grade_level_range_start" : "0",
			"grade_level_range_end" : "0",
			"parent_id" : null,
			"grading_periods" : [ 0 ],
			"profile_url" : "https://cdn3-7.cdn.schoology.com/system/files/imagecache/profile_reg/courselogos/logo-1624225987_5b31557911e27.png?1529959801",
			"location" : "",
			"meeting_days" : [ "" ],
			"start_time" : "",
			"end_time" : "",
			"weight" : "0"
		},
		"links" : {
			"self" : "https:\/\/api.schoology.com\/v1\/users\/20013688\/sections"
		}
	};
	
	var acctInfo = {
			"active" : true,
			"expDate" : "2018-06-11",
			"secId" : "1624225987"
		};
	
	const students = {
		"enrollment" : [
				{
					"id" : "1453234329",
					"uid" : "20013688",
					"school_uid" : "",
					"name_title" : "Mr.",
					"name_title_show" : "1",
					"name_first" : "Lee",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "ViDemantay",
					"name_display" : "Mr. ViDemantay",
					"admin" : 1,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-4.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-f32980e8160b94a6d66e296dd64448fe_5ab1475f7c66d.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1453234329"
					}
				},
				{
					"id" : "1767944793",
					"uid" : "69690077",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Ainsley",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Boomer",
					"name_display" : "Ainsley Boomer",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-4.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-f8e72f42f0e598f30f114be8f706b942_5b10a109d3e3e.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1767944793"
					}
				},
				{
					"id" : "1585434038",
					"uid" : "53909154",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Darwin",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Goober",
					"name_display" : "Darwin Goober",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-7.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-4f0d01b827928ef9f1dc8cc3a30e4313_5b10a2b1cf680.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1585434038"
					}
				},
				{
					"id" : "1767944723",
					"uid" : "69690049",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Melanie",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Gowor",
					"name_display" : "Melanie Gowor",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-3.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-6954c8e80211908c6bc457b73350add3_5b10a19e3433e.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1767944723"
					}
				},
				{
					"id" : "1585433778",
					"uid" : "53909040",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Angel",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Guy",
					"name_display" : "Angel Guy",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-7.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-6ccdb4dccbd6397d951d84ec5a98613f_5b10a35880377.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1585433778"
					}
				} ],
		"total" : "5",
		"links" : {
			"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments?start=0&limit=50"
		}
	};
	var seatingCharts = {
		"sectionId" : "675750671",
		"defaultId" : 5732568548769792,
		"list" : [
			{"title":'Your seat', "id":5732568548769792},
			{"title":'Math Lab', "id":9002568548769792},
			{"title":'Reading Place', "id":2222568548769792},
			{"title":'Investigation', "id":708968548769792}
		],
		"availableRoles":[]
	};
	var curChart = {
		"title":"Your seat",
		"id" : 5732568548769792,
		"uid" : "20013688",
		"sectionId" : "675750671",
		"furniture":[{"top":"631px","left":"862.5px","rotate":-3.127534947865014,"transform":"","kind":"double","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":"1767944793"},{"pos":2,"student":""}],"id":"ui-id-1"},{"top":"654px","left":"271.5px","rotate":-3.7251875077097303,"transform":"","kind":"double","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""},{"pos":2,"student":""}],"id":"ui-id-1"},{"top":"656.5px","left":"461.25px","rotate":-4.703965429592607,"transform":"","kind":"double","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""},{"pos":2,"student":""}],"id":"ui-id-2"},{"top":"217px","left":"888.75px","rotate":-1.5845282757744439,"transform":"","kind":"double","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""},{"pos":2,"student":"1585433778"}],"id":"ui-id-3"},{"top":"128.938px","left":"397.438px","rotate":0,"transform":"","kind":"double","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""},{"pos":2,"student":"1585434038"}],"id":"ui-id-4"},{"top":"6px","left":"6.75px","rotate":0,"transform":"","kind":"single","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""}],"id":"ui-id-1"},{"top":"18px","left":"906.75px","rotate":0,"transform":"","kind":"single","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""}],"id":"ui-id-2"},{"top":"672px","left":"21.75px","rotate":0,"transform":"","kind":"single","type":"desk","bgColor":"","borderColor":"","seats":[{"pos":1,"student":""}],"id":"ui-id-3"}],
		"groups":[
			{"gid": "79872987","title": "First Group", "description": "Created group for play",
			"icon":"", "color":"blue", "criteria": "", 
			"members":
				[
					{"id":"1453234329","role":[ {"title":"Admin", "icon":"", "color":"red", "description":""}] }
				]},
				{"gid": "81172987","title": "Second Group", "description": "Created group for play",
					"icon":"", "color":"green", "criteria": "", 
					"members":
						[
							{"id":"1767944793","role":[ {"title":"Admin", "icon":"", "color":"red", "description":""}] },
							{"id":"1585434038","role":[ {"title":"Secretary", "icon":"", "color":"red", "description":""}] },
							{"id":"1767944723","role":[] },
							{"id":"1585433778","role":[] }
						]},
			{"gid": "888888","title": "Third Group", "description": "Created group for play",
							"icon":"", "color":"indigo", "criteria": "", 
							"members":[]}
		],
		"procedures":[
					{"secs": 30, "direction":"move from your seat"},
					{"secs": 90, "direction":"pick a friend"},
					{"secs": 120, "direction":"fold your paper"},
					{"secs": 60, "direction":"smile"}
					],
		"isDefault" : false,
		"readOnly" : false,
		"shared" : false,
		"allowedUids" : [],
		"isActive" : false,
		"isArchived" : false,
		"isVolume" : false,
		"domainAssociations" : []
	};
	
	var colorList = ['red','blue','yellow','oragne','green','purple',
					'deep-orange','indigo','light-green','amber','deep-purple','pink',
					'cyan','light-blue','teal','lime','brown','blue-grey'];
	/*checks to see if acct is up to date*/
	
</script>
<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
<!-- Compiled and minified CSS -->
<link rel="stylesheet"
	href="css/materialize.min.css"
>
<link rel="stylesheet" href="css/app.css" />
<title>Havaseet</title>
</head>
<body>
	<div id="dashboard"
		style="height: inherit; width: inherit; position: inherit"
	>
		<div class="amber" style="overflow: visible; height: 2em;">
			<img id="sectionProfImg" class="left circle responsive-img" src=""
				style="position: relative; width: 2.8em; margin-left: 20px; height: 4em; width: 4em; top: 0.25em; z-index: 10"
				alt=""
			><span id="sectionTitleSpan" class="white-text material-label"
				style="position: relative; font-size: 1.5em; font-weight: bold; text-shadow: 1px 1px 1px grey; left: 30%"
			></span> <span class="right white-text"
				style="font-size: 1.5em; font-family: Verdana; text-shadow: 1px 1px 2px Black; margin-right: 1em;"
			>Havaseet <i class="red-text">Beta</i></span>
		</div>
		<main style="height:inherit; position:relative">
		<div class="homeToolbar amber darken-1">
			<div class="container row">
				<div class="col s3 white-text">
					<span>Check: </span>&nbsp; <a
						class="btn-flat tooltiped waves-effect waves-light white-text"
						data-tooltip="homework" style="display: inline"
					> <i id="hwIcon" class="material-icons">assignment</i>
					</a>
				</div>
				<div class="col s5">
					<a class="btn dropdown-trigger amber lighten-1 white-text left"
						data-target="routineDropdownList"
						style="height: 2.45em; overflow: hidden; width: 100%; position: relative; margin-top: 3px"
						id="curRoutineBtn"
					><span
						style="position: relative; vertical-align: top; text-align: center; width: 100%"
					></span>&nbsp; <i class="material-icons">arrow_drop_down</i></a>
					<ul id="routineDropdownList" class="dropdown-content"></ul>
				</div>
				<div class="col s4 white-text">
					<span>View:</span>&nbsp; <a
						class="btn-flat tooltiped waves-effect waves-light white-text view-btn"
						data-tooltip="students" id="student-view-btn"
					> <i class="material-icons amber-text text-accent-1 view-icon">school</i>
					</a> <a
						class="btn-flat tooltiped waves-effect waves-light white-text view-btn"
						data-tooltip="groups" id="groups-view-btn"
					> <i class="material-icons view-icon">group</i>
					</a> <a
						class="btn-flat tooltiped waves-effect waves-light white-text view-btn"
						data-tooltip="procedures" id="proc-view-btn"
					> <i class="material-icons view-icon">list</i>
					</a> <a
						class="btn-floating btn-small tooltiped dropdown-trigger waves-effect waves-light amber lighten-1 white-text right"
						data-tooltip="settings" data-target="settingsList"
					> <i class="material-icons">settings</i>
					</a>
				</div>
			</div>
			<!-- end container row -->
			<ul class="dropdown-content" id="settingsList">
				<li><a style="margin: 0 auto; text-align: center"
					id="editRoutineLink" class="amber-text"
				><i class="material-icons right">edit</i>Edit</a></li>
				<li class="divider" tab-index="-1"></li>
				<li><a style="margin: 0 auto; text-align: center"
					id="deleteRoutineLink" class="amber-text"
				><i class="material-icons right">delete</i>Delete</a></li>
				<li class="divider" tab-index="-1"></li>
				<li><a style="margin: 0 auto; text-align: center"
					id="newRoutineLink" class="amber-text"
				><i class="material-icons right">event_seat</i>New</a></li>
				<li class="divider" tab-index="-1"></li>
				<li><a style="margin: 0 auto; text-align: center"
					id="printRoutineLink" class="amber-text"
				><i class="material-icons right">print</i>Print</a></li>
				<li class="divider" tab-index="-1"></li>
			</ul>
		</div>
		<!-- end homeToolbar -->
		<div>
			<div class="editToolbar red lighten-1 row"
				style="display: none; padding: 0 25%"
			>
				<div class="col">
					<a class="btn amber darken-1" style="cursor: pointer;"><i
						class="left material-icons" style="cursor: pointer;"
					>delete</i><span>Clear All</span></a>
				</div>
				<div class="col">
					<a class="btn deep-orange darken-1" style="cursor: pointer;"><i
						class="left material-icons" style="cursor: pointer;"
					>close</i><span>CANCEL</span></a>
				</div>
				<div class="col">
					<a class="btn green lighten-1" style="cursor: pointer;"><i
						class="left material-icons" style="cursor: pointer;"
					>done</i><span>SAVE</span></a>
				</div>
			</div>
		</div>
		<div class="seatingChart" style="min-width:1195px; width:100%;height:inherit;position:absolute">
			<section id="floorWrapper"
				style="min-width: 996px; max-width: 1000px; height: 750px; margin: 0px; margin-left: 1rem; float: left; position: absolute"
			>
				<div id="procViewLayer" class="floorPlanLayer"
					style="background-color: rgba(); display: none"
				>
					<div class="carousel"></div>
					<div class="row timer-panel"></div>
				</div>
				<div class="floorPlan"
					style="width: 100%; height: 100%; min-width: 996px; position: absolute; margin-left: 0.25rem"
				></div>
			</section>
			<div class="sideTools"
				style="margin: 0%; margin-right: 1rem; float: right; position: relative; width: 175px"
			>
				<div class="homeTool-side">
					<div id="procListWrapper" class="center-align grey-text side-tool"
						style="display: none"
					>
						<span class="material-label"
							style="font-size: 1.5em; font-weight: bold; margin-left: auto; margin-right: auto"
						>Procedures</span>
						<ul class="procList collection"></ul>
					</div>
					<div id="groupListWrapper" class="center-align grey-text side-tool"
						style="display: none"
					>
						<span class="material-label"
							style="font-size: 1.5em; font-weight: bold; margin-left: auto; margin-right: auto"
						>Groups</span>
						<ul class="groupList collection"></ul>
					</div>
					<div id="studentListWrapper"
						class="center-align grey-text side-tool" style="margin: auto"
					>
						<span class="material-label"
							style="font-size: 1.5em; font-weight: bold; margin-left: auto; margin-right: auto"
						>Students</span>
						<div>
							<ul class="scStudentList collection"
								style="width: 8em; margin: auto; overflow-y: scroll"
							></ul>
						</div>
					</div>
				</div>
				<div class="editTool-side" style="display: none; width: 100%">
					<ul class="collapsible">
						<li class="editCollapseItem active" id="furnitureCollapseItem"
							style="cursor: pointer;"
						><div class="collapsible-header">
								<a style="cursor: pointer;"><i class="left material-icons"
									style="cursor: pointer;"
								>event_seat</i></a>
							</div>
							<div class="collapsible-body" style="display: block;">
								<ul class="collection">
									<li class="collection-item"><img
										class="furnitureIcon responsive-img" id="doubleDeskIcon"
										src="img/doubleDesk.png" alt=""
									></li>
									<li class="collection-item"><img
										class="furnitureIcon responsive-img" id="singleDeskIcon"
										src="img/singleDesk.png" alt=""
									></li>
								</ul>
							</div></li>
						<li class="editCollapseItem" id="studentCollapseItem"
							style="cursor: pointer;"
						><div class="collapsible-header">
								<a style="cursor: pointer;"><i class="left material-icons"
									style="cursor: pointer;"
								>school</i></a>
							</div>
							<div id="studentCollapseBody" class="collapsible-body">
								<div>
									<h5>No Students to show</h5>
								</div>
							</div></li>
						<li class="editCollapseItem" id="groupCollapseItem"
							style="cursor: pointer;"
						><div class="collapsible-header">
								<a style="cursor: pointer;"><i class="left material-icons"
									style="cursor: pointer;"
								>group</i></a>
							</div>
							<div id="groupCollapseBody" class="collapsible-body" style="padding:0px 0px 0px 0px !important;"><!-- padding ineffective here must be done in stylesheet -->
								<button id="group-add-btn" class="btn btn-flat" style="width:100%; position:relative;"><i class="material-icons left">add</i> Add...</button>
								<div id="empty-group-panel">
									<h5>No Groups to show</h5>
								</div>
								<div id="edit-group-list" style="width:175px; padding:0px">
								<ul id="editable-group-list" class="collapsible popout" style="width:100%"></ul>
								</div>
							</div></li>
						<li class="editCollapseItem" id="procCollapseItem"
							style="cursor: pointer;"
						><div class="collapsible-header">
								<a style="cursor: pointer;"><i class="left material-icons"
									style="cursor: pointer;"
								>list</i></a>
							</div>
							<div id="procCollapseBody" class="collapsible-body" style="">
								<div>
									<h5>No procedures to show</h5>
								</div>
							</div></li>
						<li class="editCollapseItem" id="infoCollapseItem"
							style="cursor: pointer;"
						><div class="collapsible-header">
								<a style="cursor: pointer;"><i class="left material-icons"
									style="cursor: pointer;"
								>info</i></a>
							</div>
							<div id="infoCollapseBody" class="collapsible-body" style="">
								<div>
									<h5>TODO: Show Info</h5>
								</div>
							</div></li>
					</ul>
				</div>
			</div>
		</div>
		</main>
	</div>
<!------ All page modals go here ----->
<div id="procEditLayer" class="floorPlanLayer"></div>
<div id="groupEditLayer" class="modal floorPlanLayer">
<div class="modal-content">
<ul class="tabs">
	<li class="tab new-group-tab"><a href="#new-group-form">New Group</a></li>
	<li class="tab import-groups-tab"><a href="#import-groups-panel">Schoology Import</a></li>
	<!-- <li class="tab rti-groups-tab"><a href="#rti-groups-form">RTI</a></li> -->
</ul>
					<div id="new-group-form">
					<div class="input-field">
					<input type="text" id="group-name-input" />
					<label for="group-name-input">Group Name:</label>
					</div>
					<div class="input-field">
					<textarea id="group-descript-input" class="materialize-textarea" style="max-height:100px;overflow-y:auto"></textarea>
					<label for="group-descript-input">Description:</label>
					</div>
					<br/>
					<div style="width:100px; margin-bottom:1em;">
					<label for="group-color-input" style="float:left; margin-right:10px">Color:</label>
					
					<a id="group-color-input" class="dropdown-trigger btn grey" data-target="color-grid" data-color="red"
					 style="border:1px solid DimGrey; border-radius:15%;float:right; width:20px;height:25px"></a>
					<ul id="color-grid" class="dropdown-content" style="background-color:WhiteSmoke;width:245px;min-width:245px">
						<li>
							<div id="color-grid" style="padding:1em">
									<div class="row">
									<!-- 
										<button data-color="red" class="btn color-selection red wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="pink" class="btn color-selection pink wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="purple" class="btn color-selection purple wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="deep-purple" class="btn color-selection deep-purple wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="indigo" class="btn color-selection indigo wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="blue" class="btn color-selection blue wave-light hoverable" style="height:15px; width:15px"></button>
									 -->
									 <button data-color="red" class="btn color-selection red wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="blue" class="btn color-selection blue wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="green" class="btn color-selection green wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="purple" class="btn color-selection purple wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="orange" class="btn color-selection orange wave-light hoverable" style="height:15px; width:15px"></button>
									</div>
									<div class="row">
									
										<!-- <button data-color="light-blue" class="btn color-selection light-blue wave-light hoverable" style="height:15px; width:15px"></button> -->
									
										<!-- <button data-color="cyan" class="btn color-selection cyan wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="teal" class="btn color-selection teal wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="green" class="btn color-selection green wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="light-green" class="btn color-selection light-green wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="lime" class="btn color-selection lime wave-light hoverable" style="height:15px; width:15px"></button>
									 -->
									 <button data-color="pink" class="btn color-selection pink wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="cyan" class="btn color-selection cyan wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="light-green" class="btn color-selection light-green wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="deep-purple" class="btn color-selection deep-purple wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="amber" class="btn color-selection amber wave-light hoverable" style="height:15px; width:15px"></button>
									</div>
									<div class="row">
									
										<!--  <button data-color="yellow" class="btn color-selection yellow wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="amber" class="btn color-selection amber wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="orange" class="btn color-selection orange wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="deep-orange" class="btn color-selection deep-orange wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="brown" class="btn color-selection brown wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="blue-grey" class="btn color-selection blue-grey wave-light hoverable" style="height:15px; width:15px"></button>
									 -->
									 <button data-color="blue-grey" class="btn color-selection blue-grey wave-light hoverable" style="height:15px; width:15px"></button>
	
										<button data-color="teal" class="btn color-selection teal wave-light hoverable" style="height:15px; width:15px"></button>
									
										<button data-color="lime" class="btn color-selection lime wave-light hoverable" style="height:15px; width:15px"></button>
										<button data-color="indigo" class="btn color-selection indigo wave-light hoverable" style="height:15px; width:15px"></button>
										<button data-color="brown" class="btn color-selection brown wave-light hoverable" style="height:15px; width:15px"></button>
									</div>
									
								</div><!-- end color-grid -->
						</li>
					</ul>
					</div>
					<br/>
					<button id="new-group-submit-btn" class="btn">Ok</button>
					<button id="cancel-new-group-btn" class="btn">Cancel</button>
					</div>
					<div id="import-groups-panel">
						<h4>Import Course Groups from Schoology</h4>
						<hr/>
						<ul id="import-groups-list">
							<!--  list item will hold json of group 
							       once clicked create a new group will populate the form.-->
						</ul>
						<button id="cancel-group-import-btn" class="btn">Cancel</button>
					</div>
					<!-- <div id="rti-groups-form"></div>
					<div id="rti-groups-list"></div> -->
					</div><!-- end modal-content -->
				</div><!--  end groupEditLayer -->
				<div id="infoEditLayer" class="floorPlanLayer"></div>
<!-- ------------End Page Modals -------------------- -->
	<script src="scripts/jquery-3.1.1.min.js" type="text/javascript"></script>
	<script src="scripts/loader.js" type="text/javascript"></script>
	<!-- Compiled and minified JavaScript -->
	<script src="scripts/materialize.min.js"
		type="text/javascript"
	></script>
	<script src="scripts/seatingchart.js" type="text/javascript"></script>
	<script type="text/javascript"> 
	/*list of all 'global variable */
	var $floorPlan = $("div.floorPlan");
	var $homeTools =$('div.homeToolbar');
	var $homeToolSide=$('div.homeTool-side')
	var $editTools = $('div.editToolbar');
	var $editToolSide = $('div.editTool-side');
	var $editToolCollapsible = $('div.editTool-side > ul.collapsible');
	var $sideTools = $('div.sideTools');
	var $studentList = $('ul.scStudentList');
	var $groupList = $('ul.groupList');
	var $procList = $('ul.procList');
	var state = 'home';//home, edit
	var editState = 'furniture';//posible editState: furniture,student,group,proc,info,station
	var view = 'student';//possible view: student, group, proc,station,info
	var oldData;
	var sortByLastName = false;
	//page init like resize 
	/* $(window).resize(function(){
		console.log('window was resize');
		if(window.clientWidth < 1160){
			showResizeWarning();
		}else{
			showChartApp();
		}
	}); */
	//populate the heading section img and title
	$('img#sectionProfImg').attr('src',course.section.profile_url );
	$('span#sectionTitleSpan').text(course.section.course_title +': ' + course.section.section_title);
	//init tooltip
	$('a.tooltiped').tooltip();
	//init dropdown
	$('a.dropdown-trigger').dropdown({constrainWidth:true});
	$('.tabs').tabs();
	$('.modal').modal();
	
	/* ------Here is the onload method so start all coding here except for inits ---*/
	//populate the students into studentList
	$(()=> {
		//set current routine btn
		var $curRoutineBtn = $("a#curRoutineBtn > span");
		$curRoutineBtn.text(window.curChart.title);
		
		//pop routine list
		for(var i =0; i < seatingCharts.list.length; i++){
			var s = seatingCharts.list[i];
			var $rosterItem = $('<li class="collection-item routine-item grey-text"></li>');
			$rosterItem.attr('id',s.id);
			$rosterItem.text(s.title);
			$rosterItem.css({textAlign:'center',margin:'0 auto',padding:'2px',verticalAlign:'middle',fontWeight:10})
			$('ul#routineDropdownList').append($rosterItem).append("<li class='divider' tab-index='-1'></li>");
		}//end for
		
		//add the click fucntion to routine-items
		$('li.routine-item').click(function(){var $this = $(this);
		var $curRot =$('a#curRoutineBtn >span');
		if($this.text() ==$curRot.text() ){console.log('text were the same');return;}
		else{$curRot.text($this.text());
		console.log('text were different');
		//TODO: make ajax call to get routine and 
	
						}//end else //////////////////////
			});//end click
			
	/*set up click for view-btn :student group proc*/
	$('a.view-btn').click(function(){
		$this = $(this);
		$icon = $this.find('i.view-icon');
		if($icon.hasClass('amber-text')){
			//means it is already active
			return;
		}
		//here we can assume view is not active
		var className ='amber-text text-accent-1'
		$('i.view-icon').removeClass(className);
		$icon.addClass(className);
		$('.side-tool').css('display', 'none');
		switch($this.attr('id')){
			case 'student-view-btn':view = 'student';$('div#studentListWrapper').css('display', 'block');break;
			case 'groups-view-btn':view = 'group';$('div#groupListWrapper').css('display', 'block');break;
			case 'proc-view-btn':view = 'proc';$('div#procListWrapper').css('display', 'block');break;
		}
	});//end click view-btn
	
	/*set up click for editLink btn*/
	$('a#editRoutineLink','ul#settingsList').click(function(){
	//	console.log('edit btn click');
		edit();
	});
	
	/* set up edit toolside collapsible */
	$editToolCollapsible.collapsible({onOpenEnd:() =>{
		var $activeItem = $editToolCollapsible.find('li.active');
		switch( editState){
			case 'furniture':doneEditFurniture();break;
			case 'student':doneEditStudent();break;
			case 'proc':doneEditProc();break;
			case 'info':doneEditInfo();break;
			case 'group':doneEditGroup();break;
		}
		switch($activeItem.attr('id')){
			case'furnitureCollapseItem':editFurniture();break;
			case 'studentCollapseItem':editStudent();break;
			case 'groupCollapseItem':editGroup();break;
			case 'procCollapseItem':editProc();break;
			case 'infoCollapseItem':editInfo();break;
		}
	}});
	
	/*make add group btn open modal for group edit */ 
	//addGroup btn shows modal
	$('button#group-add-btn').click(function(){
		$("div#groupEditLayer.modal").modal('open');
	});
	/*make color-selectable clickable passing available color*/
	var $colorSelect = $('button.btn.color-selection');
	$colorSelect.click(function(){
		var color;
		var $this = $(this);
		if(! $this.hasClass('selected')){
			color = $this.attr('data-color');
		var $groupColorInput = 	$('#group-color-input');
		$groupColorInput.removeClass();
		$groupColorInput.addClass('dropdown-trigger btn ' + color);
		$groupColorInput.attr('data-color', color);	
			
		}
	});
	
	
	
		drawGrid();
		updateGroupPanels();
		updateProceduresPanels();
		home();
	}//end function //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	);//end jquery init;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	/* ui function list */
	function drawGrid(){
		console.log('called draw grid');
		$floorPlan.empty();
		$studentList.empty();
	//new strategy: put all student in studentList and 
	//li will have their id number as an attr
		for(var i = 0; i < students.enrollment.length; i++){
			if(students.enrollment[i].admin == 1)continue;
			var sp =  RosterStudentPanel.createPanel(students.enrollment[i]);
			sp.appendTo($studentList)
			.wrap('<li class="collection-item" data-id="'+ students.enrollment[i].id+ '"></li>');
		}///end for ////////
		//put desks in place
		if(curChart.furniture.length  > 0){
			//iterate
			for(var i = 0; i < curChart.furniture.length; i++ ){
				//place furniture on floor
					//check types 
					//for desks see if student needs to be added
				if(curChart.furniture[i].type='desk'){
					var $desk = FurnitureUtils.drawDesk(curChart.furniture[i]);
					var desk = $desk.data('desk');
					//if student are assigned then seats are present
					if(desk.seats.length > 0){
						for(var j = 0; j < desk.seats.length; j++){
							var $seat = $desk.find('.pos'+(j+1));
							console.log("this is the student seat:");
							console.log($seat);
							if(desk.seats[j].student == null || desk.seats[j].student == ''){
								continue;
							}else{
									//iterate through student to find same id
									//and then "hide" from array
									var $liEls = $studentList.children().not(':hidden');
									for(var k = 0; k < $liEls.length; k++){
										$el = $($liEls.get(k));
										console.log('here is the student list:');
										console.log($el);
										if($el.attr('data-id') == desk.seats[j].student){
											$el.find('div.rosterStudent').appendTo($seat);
											$el.hide();
											continue;
										}//end if
									}//end for
							}//end else stuent empty
							$seat.find('.counterRotate').css('transform', 'rotate('+(-desk.rotate) +'rad)')
						}//end for desk seat 
					}//end if desk seat length
					//apend desk now
					$floorPlan.append($desk);
				}//end if furniture is a desk
			}//end for furniture
		}//end if furniture length
		
	}//end drawGrid///////
	function edit(){
		doneHome();
		state = 'edit';
		editState = 'furniture';
		$editTools.show();
		$editToolSide.show();
		if($studentList.find('li').length > 0){
			var $sListClone = $studentList.clone();
			$sListClone.addClass('edit');
			$sListClone.appendTo($('div#studentCollapseBody').empty());
			$sListClone.attr('id', 'studentEditList');
		}else{
			$('div#studentCollapseBody').empty().append('<div> No students to view</div>');
		}
		oldData = $.extend(true,{},curChart);
		editFurniture();
	};
	function doneEdit(){
		switchEditState();
		$editTools.hide();
		$editToolSide.hide();
		home();
	};
	function submitEdit(){
		//Ajax call to submit data
		doneEdit();
	}
	
	function cancelEdit(){
		//revert back to old data
		//fix editState
		curChart = oldData;
		doneEdit();
	}
	
	function editFurniture(){
		editState = 'furniture';
		$('img.furnitureIcon').draggable({zIndex:500,appendTo:'body',
						cursorAt:[0,0], revert:'invalid', containment:'seatingChart', helper:'clone'});
		$floorPlan.droppable({accept:'.furnitureIcon', greedy:true,
								drop:(e,ui)=>{
									//console.log('this is e object');
									//console.log(e);
									e.stopPropagation();
									e.preventDefault();
									var iconId = ui.draggable.attr('id');
									var top,left;
									if(mobileCheck()){
										//console.log('its a tablet');
										left = (e.screenX - $floorPlan.offset().left + document.documentElement.scrollLeft)+'px';
										top = (e.screenY -$floorPlan.offset().top + document.documentElement.scrollTop)+'px';
									}else{
										left = (e.clientX + document.body.scroll.left)+'px';
										top = (e.clientY + document.body.scroll.top)+'px';
										
									}
									var dropInfo ={desk:iconId, top:top, left:left};
									//console.log(dropInfo);
									var $newDesk = FurnitureUtils.newDeskOnDrop(dropInfo);
									$newDesk.appendTo($floorPlan);
									$newDesk.uniqueId().data('desk').id = $newDesk.attr('id');
									makeDragRotateDelete($newDesk);
								}//end drop func
								});
		$('.desk-wrapper', '.floorPlan').each(function(){makeDragRotateDelete($(this))});
	};//end edit Furniture
	
	function doneEditFurniture(){
		var $desks = $('.desk-wrapper','.floorPlan').draggable('destroy');
		$('furnitureIcon','div.editTool-side').draggable('destroy');
		
		$floorPlan.droppable('destroy');
		$('.deskDeleter','.floorPlan').off('click').css('display','none');
		 $('.desk', '.floorPlan').rotatable('destroy');
		var deskList = [];
		$desks.each(function(){
		deskList.push($(this).data('desk'));}		
		);
		curChart.furniture = deskList;
		
	};
	
	function makeDragRotateDelete($desk){
		console.log('makeDragRotateDelete starting object: ');
		console.log($desk);
		$desk.draggable({containment:'.floorPlan',scroll:true,
						stop:function(e, ui){
							/* var top, left;
							left = (e.clientX + document.body.scroll.left)+'px';
							top = (e.clientY + document.body.scroll.top)+'px'; */
							$this = $(this);
							/* $this.css('top', top);
							$this.css('left', left); */
							$this.data('desk').top = $this.css('top');
							$this.data('desk').left = $this.css('left');
						},
						start:function(e , ui){
							$this = $(this);
							console.log('start drag this =');
							console.log($this);
		
						}//end start funciton				
		});
		$desk.find('.desk').rotatable({angle:$desk.data('desk').rotate, 
				stop:function(e, ui){
					$this = $(this);
					$this.closest('.desk-wrapper').data('desk').rotate = ui.angle.current;
				},
				rotate:function(e,ui){
					var $ui = $(ui.element);
					var $counter = $ui.find('div.counterRotate');
					if($counter !=null && $counter.length > 0){
						$counter.css("transform", "rotate(" + -ui.angle.current +"rad)");
					}
				}
		});
		$desk.find('.deskDeleter').click(function(){
			deleteFurniture( $(this).closest('.desk-wrapper'));
		}).css('display','block');
		
	};//done make rotate drag delete
	
	function deleteFurniture($desk){
		var $rosStu = $desk.find(".rosterStudent");
		if($rosStu.length > 0){
			$rosStu.each(function(){
				var $this = $(this);
				$this.appendTo('li[data-id="'+$this.attr('id')+'"]').parent().show();
				$this.find('.counterRotate').css("transform", "rotate(0.0rad)");
				$this.delay(300);
			});
		}//end if
		for(var i = 0 ; i < curChart.furniture.length; i++){
			if(curChart.furniture[i].id == $desk.data('desk').id){
				curChart.furniture.splice(i,1);
				break;
			}
		}
		$desk.removeData('desk');
		$desk.remove();
	}
	
	function editStudent(){
		editState = 'student';
		$('.rosterStudent').draggable({containment:'.seatingChart',
					helper:'clone', appendTo:'body', 
					start:function(){
						$(this).css('opacity', '0.3');
					},
					stop:function(e, ui){
						$(e.target).css('opacity','1');
					},
					drag:function(e, ui){
						$(ui.helper).find('.counterRotate').css('transform','rotate(0.0rad)');
					}
					});
		$('td >div.seat', '.floorPlan').droppable({accept:'.rosterStudent',greedy:true,hoverClass:'seat-over',
				drop:function(e,ui){
					console.log('on drop called');
					var $dropSeat = $(e.target);
					var $draggable =  $(ui.draggable);
					var $dragParent = $draggable.parent();
					console.log('drag parent is: ');
					console.log($dragParent);
					var $rosStudent = $dropSeat.find('.rosterStudent');
					
					//if seat occuupied by $rosStudent  move it first
					if($rosStudent != null && $rosStudent.length > 0){
						//first check to see if drag parent is comming from side
						if($dragParent.is('li')){
							$rosStudent.animate({left:'+=7em', opacity:0},500,'swing',
									function(){
								var $appendToMe = $('li[data-id = "'+ $rosStudent.attr('id')  +'"]');
								//console.log('appendToMe is: ');
								//console.log($appendToMe)
								$appendToMe.css('display','block');
								$rosStudent.appendTo($appendToMe);
								$rosStudent.css({opacity:'1', position:'relative', left:'0px'})
									.find('.counterRotate').css({transform:'rotate(0.0rad)'});
							});
						}//end if
						//next check to see if drag student is coming from a seat then swap
						if($dragParent.hasClass('seat')){
							var $pWrapper = $dropSeat.closest('div.desk-wrapper');
							var $cloneWrapper = $('<div id="clone"></div>');
							$cloneWrapper.css({overFlow:'visible', width:'4em', height:'8em',
								position:'absolute', left:$pWrapper.css('left'), top:$pWrapper.css('top')})
								.appendTo('.floorPlan');
							$rosStudent.appendTo($cloneWrapper);
							$rosStudent.find('.counterRotate').css('transform', 'rotate(0.0rad)');
							$cloneWrapper.animate({left:'+=' +($dragParent.offset().left - $pWrapper.offset().left), 
													top:'+=' + ($dragParent.offset().top - $pWrapper.offset().top)},
													350, 'swing',
													function(){
														$rosStudent.appendTo($dragParent);
														$cloneWrapper.remove();
														var stuDesk = $dragParent.closest('div.desk-wrapper').data('desk');
														console.log('student desk of the swapped is: ');
														console.log(stuDesk);
															if($dragParent.hasClass('pos1')){
																stuDesk.seats[0].student = $rosStudent.attr('id');
															}//end if
															else{
																stuDesk.seats[1].student = $rosStudent.attr('id');
															}//end else
																$rosStudent.find('.counterRotate').css('transform',
																		'rotate('+ (-stuDesk.rotate)+'rad)');
													});//end animate
							
						}//end if swapping
					}//end check to see if seat is occupied
					//now place the drop student in the target seat
					$draggable.appendTo($dropSeat);
					if($dragParent.children().length <1 && $dragParent.is('li')){
						$dragParent.hide();
					}
					var stuDesk =$dropSeat.closest('div.desk-wrapper').data('desk');
					if($dropSeat.hasClass('pos1')){
						stuDesk.seats[0].student = $draggable.attr('id');
					}else{
						stuDesk.seats[1].student = $draggable.attr('id');
					}
					$draggable.find('.counterRotate').css('transform',
							'rotate('+ (-stuDesk.rotate)+'rad)');
				}
				});//end droppable
		
	};// end edit student
	function doneEditStudent(){
		$('.rosterStudent').draggable('destroy');
		$('td >div.seat', '.floorPlan').droppable('destroy');
	};
	function sortStudentList(a,b){
		//console.log('sort stuent list called')
		/*a and b are list items find student */
		if(sortByLastName){
				if($(a).find('.last').text() < $(b).find('.last').text())return -1;
				if($(a).find('.last').text() > $(b).find('.last').text())return 1;
				return 0;
		}else{
			if($(a).find('.first').text() < $(b).find('.first').text())return -1;
			if($(a).find('.first').text() > $(b).find('.first').text())return 1;
			return 0;
		}
	}
	
	function editGroup(){
		console.log('edit group called');
		editState = 'group';
		
		//first check to see if there are any groups;
		var $emptyGroupPanel = $('div#empty-group-panel');
		var $editGroupList = $('ul#editable-group-list');
		//incase of populattion emty children from edit-group-list
		$editGroupList.children().remove();
		//if not show empty else activate  panel
		if(curChart.groups.length < 1){ 
			$emptyGroupPanel.show();
			
		}
		else{
		// hide empty group panel
		$emptyGroupPanel.hide();
		// first group is active group
		for(var i = 0; i < curChart.groups.length ; i++){
			//create an li to add to the  
			var $item = EditGroupItem.create(curChart.groups[i]);
			if(i == 0){
				$item.addClass('active');
			}
			$item.data('data',curChart.groups[i] );
			$item.attr('id',curChart.groups[i].gid );
			$editGroupList.append($item);
			$item.find('a.edit-group-item-btn').click(function(){
				$(this).siblings('form').show().find('input').focus();
				
			});
			
			//add members to the group /////
			//check if group has members ////
			if(curChart.groups[i].members.length > 0){
			for(var j = 0; j < curChart.groups[i].members.length; j++){
				
				var mem = MemberItem.create(curChart.groups[i].members[j]);
				$item.find('ul.edit-group-member-list').append(mem);
			}
			} else{ $item.find('div.empty-group-members').show(); 
					$item.find('ul.edit-group-member-list').hide();}//end if groups has memebers
		}
		
		$('ul#editable-group-list.collapsible').collapsible(
				{accordian:true,
				onCloseStart:function(li){
				var $li = $(li);
				$li.find('form')[0].reset();
				$li.find('form').hide();
				},
				
				onOpenStart:function(li){
					var $li = $(li);
					$li.find('input').attr('placeholder', $li.data('data').title);
					$li.find('textarea').attr('placeholder', $li.data('data').description);
				}
				
				}); //end collapsible
		
		$('a.edit-group-item-btn').click(function(){
			var $this = $(this);
			$this.closest('form').css('display', 'block');
		});
		
		
		//student in active group are excluded
		//make students selectable
		$floorPlan.selectable({filter:'.student'});
		
		//if studen belongs to another group then confirm move
		
		}
		
	};
	function doneEditGroup(){
	};
	
	function editProc(){
		editState = 'proc';
	};
	function doneEditProc(){};
	function home(){
		state = 'home';
		view = 'student';
		if($studentList.children().length < 1){
			$studentList.append("<div><h5>No student to show</h5></div>")
		}
		$('.rosterStudent').click();
		
	};
	function editInfo(){
		editState = 'info';
	};
	function doneEditInfo(){};
	
	
	function switchEditState(){
		switch(editState){
			case 'student':doneEditStudent();
			case 'group':doneEditGroup();
			case 'proc':doneEditProc();
			case 'info':doneEditInfo();
			default:doneEditFurniture();
		}
	}
	function doneHome(){
		$homeTools.hide();
		$homeToolSide.hide();
		switch(view){
			case 'group':doneGroupView();break;
			case 'proc':doneProcView();break;
			case 'station':doneStationView();break;
			case 'info':doneInfoView();break;
			default:doneStudentView();
		}
	};	function studentView(){
		/*TODO:add click functions to students
		for showing studentActionPanel
	*/
};
function doneStudentView(){
	/* remove the click function */
};
	
	
	
	/*Group Function -- Start Here ------ */
	function updateGroupPanels(){
		//console.log('update group Panels called');
		if(curChart.groups != null && curChart.groups.length > 0){
			for(var i = 0; i < curChart.groups.length; i++){
				var $group = StudentGroupPanel.create(curChart.groups[i]);
				//append to groupList
				$group.appendTo($groupList).wrap('<li class="collection-item"></li>');
			}
		}else{
		
		}
	}
	
	function groupView(){
		//add color to students by group membership
		//update the icons and roles
		
		//add hover to group panel to dim non members
		
	};
	function doneGroupView(){
		//get rid of color style
		
		//get rid of icons and roles
		
		//remove hover from group panels
	};
	
	/* -- Group Functions End Here -----*/
	
	/*--Procedure Functions Start ---*/
	
	function updateProceduresPanels(){
		console.log('update procedures panel called');
		if(curChart.procedures != null && curChart.procedures.length > 0 ){
			for(var i = 0; i < curChart.procedures.length; i++){
				var $proc = ProcedurePanel.create(curChart.procedures[i]);
				$proc.appendTo($procList).wrap('<li class="collection-item"></li>');
			}//end for
		}//end if
		
	}
	function procView(){};
	function doneProcView(){};
	
	
	/* --- Procedure Functions End ---- */


	
	function stationView(){};
	function doneStationView(){};
	function infoView(){};
	function doneInfoView(){};
	function hwCheck(){};
	function doneHwCheck(){};
	function submitHwCheck(){};
	function cancelHwCheck(){};
	function attendanceCheck(){};
	function doneAttendanceCheck(){};
	function submitAttendance(){};
	function cancelAttendance(){};
	
	//ajax functions - routine
	function saveRoutine(routine){};
	function cancelSaveRoutine(){};
	function deleteRoutine(routineId){};
	function cancelDeleteRoutine(){};
	
	
	function getRoutine(routineId){};
	function printRoutine(){};
	function newRoutine(){};
	function copyRoutine(){};
	
	//ajax functions - groups
	
	//ajax functions - procs
	
	//TODO:ajax functions - stations
	
	 ////ajax functions - attendance
	 
	 //ajax functions - assignment
	</script>
</body>
</html>