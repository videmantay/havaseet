<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>
	//user info
	var teacher = {
		"uid" : "20013688",
		"id" : 20013688,
		"school_id" : 228550800,
		"synced" : 0,
		"school_uid" : "",
		"additional_buildings" : "",
		"name_title" : "Mr.",
		"name_title_show" : 1,
		"name_first" : "Lee",
		"name_first_preferred" : "",
		"use_preferred_first_name" : "1",
		"name_middle" : "",
		"name_middle_show" : 0,
		"name_last" : "ViDemantay",
		"name_display" : "Mr. ViDemantay",
		"username" : "",
		"primary_email" : "lee@videmantay.net",
		"picture_url" : "https:\/\/cdn3-4.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-f32980e8160b94a6d66e296dd64448fe_5ab1475f7c66d.png",
		"gender" : null,
		"position" : null,
		"grad_year" : "",
		"password" : "",
		"role_id" : 5,
		"tz_offset" : -7,
		"tz_name" : "America\/Los_Angeles",
		"parents" : null,
		"child_uids" : null,
		"send_message" : 1,
		"language" : "",
		"permissions" : {
			"is_directory_public" : 1,
			"allow_connections" : 1
		}
	};
	var course = {
		"section" : {
			"id" : "1624225987",
			"course_title" : "MadeIt Up",
			"course_code" : "",
			"course_id" : "1624225985",
			"school_id" : "228550800",
			"building_id" : "228550800",
			"access_code" : "TB658-KHXRR",
			"section_title" : "Section 1",
			"section_code" : "",
			"section_school_code" : "",
			"synced" : "0",
			"active" : 1,
			"description" : "",
			"subject_area" : "0",
			"grade_level_range_start" : "0",
			"grade_level_range_end" : "0",
			"parent_id" : null,
			"grading_periods" : [ 0 ],
			"profile_url" : "https://cdn3-7.cdn.schoology.com/system/files/imagecache/profile_reg/courselogos/logo-1624225987_5b31557911e27.png?1529959801",
			"location" : "",
			"meeting_days" : [ "" ],
			"start_time" : "",
			"end_time" : "",
			"weight" : "0"
		},
		"links" : {
			"self" : "https:\/\/api.schoology.com\/v1\/users\/20013688\/sections"
		}
	};
	
	var acctInfo = {
			"active" : true,
			"expDate" : "2018-06-11",
			"secId" : "1624225987"
		};
	
	const students = {
		"enrollment" : [
				{
					"id" : "1453234329",
					"uid" : "20013688",
					"school_uid" : "",
					"name_title" : "Mr.",
					"name_title_show" : "1",
					"name_first" : "Lee",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "ViDemantay",
					"name_display" : "Mr. ViDemantay",
					"admin" : 1,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-4.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-f32980e8160b94a6d66e296dd64448fe_5ab1475f7c66d.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1453234329"
					}
				},
				{
					"id" : "1767944793",
					"uid" : "69690077",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Ainsley",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Boomer",
					"name_display" : "Ainsley Boomer",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-4.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-f8e72f42f0e598f30f114be8f706b942_5b10a109d3e3e.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1767944793"
					}
				},
				{
					"id" : "1585434038",
					"uid" : "53909154",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Darwin",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Goober",
					"name_display" : "Darwin Goober",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-7.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-4f0d01b827928ef9f1dc8cc3a30e4313_5b10a2b1cf680.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1585434038"
					}
				},
				{
					"id" : "1767944723",
					"uid" : "69690049",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Melanie",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Gowor",
					"name_display" : "Melanie Gowor",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-3.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-6954c8e80211908c6bc457b73350add3_5b10a19e3433e.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1767944723"
					}
				},
				{
					"id" : "1585433778",
					"uid" : "53909040",
					"school_uid" : "",
					"name_title" : "",
					"name_title_show" : "0",
					"name_first" : "Angel",
					"name_first_preferred" : "",
					"use_preferred_first_name" : "1",
					"name_middle" : "",
					"name_middle_show" : "0",
					"name_last" : "Guy",
					"name_display" : "Angel Guy",
					"admin" : 0,
					"status" : "1",
					"picture_url" : "https:\/\/cdn3-7.cdn.schoology.com\/system\/files\/imagecache\/profile_reg\/pictures\/picture-6ccdb4dccbd6397d951d84ec5a98613f_5b10a35880377.png",
					"links" : {
						"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments\/1585433778"
					}
				} ],
		"total" : "5",
		"links" : {
			"self" : "https:\/\/api.schoology.com\/v1\/sections\/675750671\/enrollments?start=0&limit=50"
		}
	};
	var seatingCharts = {
		"sectionId" : "675750671",
		"defaultId" : 5732568548769792,
		"list" : [
			{"title":'Your seat', "id":5732568548769792},
			{"title":'Math Lab', "id":9002568548769792},
			{"title":'Reading Place', "id":2222568548769792},
			{"title":'Investigation', "id":708968548769792}
		]
	};
	var curChart = {
		"id" : 5732568548769792,
		"uid" : "20013688",
		"sectionId" : "675750671",
		"furniture" : [],
		"isDefault" : false,
		"readOnly" : false,
		"shared" : false,
		"allowedUids" : [],
		"isActive" : false,
		"isArchived" : false,
		"isVolume" : false,
		"domainAssociations" : []
	};
	/*checks to see if acct is up to date*/
	
</script>
 <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
 <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">

<link rel="stylesheet" href="css/app.css" />
<title>Havaseet</title>
<style>
#loader {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	visibility: hidden;
	background: url('img/Preloader_3.gif') 50% 50% no-repeat
		rgb(249, 249, 249);
}
</style>
</head>
<body style="position:relative">
	<div id="dashboard">
		<div class="amber" style="overflow:visible;height:2em;">
			<img id="sectionProfImg" class="left circle responsive-img"
				src=""
				style="position:relative;width: 2.8em; margin-left: 20px; height: 4em; width:4em;top:0.25em"
			><span id="sectionTitleSpan" class="white-text material-label"
				style="position:relative;font-size: 1.5em; font-weight: bold;text-shadow:1px 1px 1px Black;left:30%"
			></span>
			<span class="right white-text" style="font-size:1.5em;font-family:Verdana;
			text-shadow:1px 1px 2px Black;margin-right:1em;">Havaseet <i class="red-text">Beta</i></span>
		</div>
		<main>
		<div class="homeToolbar amber darken-1">
			<div class="container row">
				<div class="col s3 white-text">
					<span>Check: </span>&nbsp;
					<a class="btn-flat tooltiped waves-effect waves-light white-text"
					data-tooltip="homework" style="display:inline">
						<i class="material-icons">assignment</i>
					</a>
				</div>
				<div class="col s5">
					<a class="btn dropdown-trigger amber lighten-1 white-text left" 
				data-target="routineDropdownList"
				style="height:2.45em; overflow:hidden;width:100%;position:relative"
				id="curRoutineBtn"><span style="position:relative;vertical-align:top;text-align:center;width:100%">Your Seats</span>&nbsp;
				<i class="material-icons">arrow_drop_down</i></a>
				
					<ul id="routineDropdownList" class="dropdown-content"></ul>
				</div>
				<div class="col s4 white-text">
						<span>View:</span>&nbsp;
					<a class="btn-flat tooltiped waves-effect waves-light white-text"
					data-tooltip="students">
						<i class="material-icons view-icon">school</i>
					</a>
			
					<a class="btn-flat tooltiped waves-effect waves-light white-text"
					data-tooltip="groups">
						<i class="material-icons view-icon">group_work</i>
					</a>
				
					<a class="btn-flat tooltiped waves-effect waves-light white-text"
					data-tooltip="procedures">
						<i class="material-icons view-icon">list</i>
					</a>
				</div>		
		</div><!-- end container row -->
		</div><!-- end homeToolbar -->
		<div>
			<div class="edit-tools red lighten-1 row" style="display:none">
				<div class="col">
					<a class="btn amber darken-1" style="cursor: pointer;"><i
						class="left material-icons" style="cursor: pointer;"
					>delete</i><span>Clear All</span></a>
				</div>
				<div class="col">
					<div class="col">
						<a class="btn deep-orange darken-1" style="cursor: pointer;"><i
							class="left material-icons" style="cursor: pointer;"
						>close</i><span>CANCEL</span></a>
					</div>
					<div class="col">
						<a class="btn green lighten-1" style="cursor: pointer;"><i
							class="left material-icons" style="cursor: pointer;"
						>done</i><span>SAVE</span></a>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="l10 col">
					<div id="floorWrapper">
					
						<div id="procViewLayer" class="floorPlanLayer"></div>
						<div id="procEditLayer" class="floorPlanLayer"></div>
						<div id="infoEditLayer" class="floorPlanLayer"></div>
					
						<div class="floorPlan" style="min-width:996px;max-width:1060px;position:relative; left:1em">							
					</div>
					</div>
				</div>
				<div class="l2 col">
					<div class="scSideTools" style="margin:auto">
						<div class="groupListWrapper center-align grey-text" style="display:none">
							<span 	style="font-size: 1.5em; font-weight: bold; margin-left:auto;margin-right:auto"
							>Groups</span>
							<ul class="groupList collection"></ul>
						</div>
						<div id="studentListWrapper" class="center-align grey-text material-label" style="margin:auto">
							<span 
								style="font-size: 1.5em; font-weight: bold; margin-left:auto;margin-right:auto"
							>Students</span>
							<div >
								<ul class="scStudentList collection" style="width:8em; margin:auto"></ul>
							</div>
						</div>
						<div class="editTools">
							<ul class="collapsible">
								<li class="editCollapseItem active" id="furnitureCollapseItem"
									style="cursor: pointer;"
								><div class="collapsible-header active">
										<a style="cursor: pointer;"><i class="left material-icons"
											style="cursor: pointer;"
										>event_seat</i></a>
									</div>
									<div class="collapsible-body" style="display: block;">
										<ul class="collection">
											<li class="collection-item"><img
												class="furnitureIcon responsive-img" id="doubleDeskIcon"
												src="../img/doubleDesk.png"
											></li>
											<li class="collection-item"><img
												class="furnitureIcon responsive-img" id="singleDeskIcon"
												src="../img/singleDesk.png"
											></li>
										</ul>
									</div></li>
								<li class="editCollapseItem" id="studentCollapseItem"
									style="cursor: pointer;"
								><div class="collapsible-header">
										<a style="cursor: pointer;"><i class="left material-icons"
											style="cursor: pointer;"
										>school</i></a>
									</div>
									<div id="studentCollapseBody" class="collapsible-body" style="">
										<div>
											<h5>No Students to show</h5>
										</div>
									</div></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		</main>
	</div>
	
	<script src="scripts/jquery-3.1.1.min.js"></script>
	<script src="scripts/loader.js"></script>
	<!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
       
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.print/1.5.1/jQuery.print.min.js"
	></script>
	<script src="scripts/seatingchart.js"></script>
	<script> 
	//page init like resize 
	/* $(window).resize(function(){
		console.log('window was resize');
		if(window.clientWidth < 1160){
			showResizeWarning();
		}else{
			showChartApp();
		}
	}); */
	//populate the section img and title
	$('img#sectionProfImg').attr('src',course.section.profile_url );
	$('span#sectionTitleSpan').text(course.section.course_title +': ' + course.section.section_title);
	//init tooltip
	$('a.tooltiped').tooltip();
	//init dropdown
	$('a.dropdown-trigger').dropdown({constrainWidth:true});
	
	//populate the students into studentList
	$(()=> {for(var i=0;  i < students.enrollment.length; i++)
			{var s = students.enrollment[i];  
			if(s.admin == 1){continue}
			var rosPanel = new RosterStudentPanel(); 
				   rosPanel.setStudent(s); 
				   $('ul.scStudentList').append('<li class="collection-item">' + rosPanel.getPanel()+'</li>');
				   }//end for loop
		//pop roster list
		for(var i =0; i < seatingCharts.list.length; i++){
			var s = seatingCharts.list[i];
			var $rosterItem = $('<li class="collection-item roster-item grey-text"></li><li class="divider" tabindex="-1"></li>');
			$rosterItem.attr('id',s.id);
			$rosterItem.text(s.title);
			$rosterItem.css({textAlign:'center',margin:'0 auto',padding:'2px',verticalAlign:'middle',fontWeight:10})
			$('ul#routineDropdownList').append($rosterItem);
		}//end for
	}//end function
	);
	</script>
</body>
</html>